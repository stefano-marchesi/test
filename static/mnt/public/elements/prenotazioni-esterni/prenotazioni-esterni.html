<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="prenotazioni-esterni">
  <template>

  <style>
  :host {
    display: block;
    @apply(--layout-horizontal);
    @apply(--layout-center-justified);
    height: 100%;
    max-height: 700px;
  }

  paper-material{
    max-width: 600px;
    height: 600px;

    @apply(--layout-flex);
  }

  .primalinea{
    font-size: 25px;
  }


  .centrale{
    margin-left: auto;
    margin-right: auto;
  }

  .secondalinea{
    font-size: 20px;
  }

  paper-material{
    margin-top: 20px;
  }
}

</style>

<paper-material elevation="2">

  <paper-toolbar class="medium-tall">
    <div class="primalinea centrale">Ospedale di Biella</div>
    <span class="bottom secondalinea centrale">Radiologia</span>
  </paper-toolbar>

  <iron-pages class="content" selected="[[selected]]" >
    <input-nre id="inputnre" status="{{nreStatus}}"></input-nre>
    <input-connection id="inputmail" status="{{connectionStatus}}"></input-connection>
    <input-date id="inputdate" status="{{dateStatus}}" ></input-date>
    <output-confermation></output-confermation>

  </iron-pages>



</paper-material>


</template>
<script>
(function() {
  'use strict';

  Polymer({
    is: 'prenotazioni-esterni',

    properties: {
      selected:{
        type: Number,
        value: 0
      },
      nreStatus:{
        type: Number,
        observer: 'nreStatusChange',
        value: 1
      },
      connectionStatus:{
        type: Number,
        observer: 'connectionStatusChange',
        value: 1
      },
      dateStatus:{
        type: Number,
        observer: 'dateStatusChange',
        value: 1
      },

      transactioninfo:{
        type:Object,
        value: function (){
          return {
            nre:'',
            cf:'',
            mail:'',
            datanre:{},
            chosendate:{}
          };
        }
      }

    },
    nreStatusChange: function(newValue) {

      if  (newValue===10){
        this.transactioninfo.nre = this.$.inputnre.nre;
        this.transactioninfo.cf = this.$.inputnre.cf;
        this.transactioninfo.datanre = this.$.inputnre.datanre;
        this.selected=1;
      }
    },

    connectionStatusChange: function(newValue) {
      if  (newValue===10){
        this.transactioninfo.mail = this.$.inputmail.mail;
        this.selected=2;
        this.$.inputdate.esame=this.transactioninfo.datanre.esame;
        this.$.inputdate.mail=this.transactioninfo.mail;
        this.dateStatus=2;
      }
    },

    dateStatusChange: function(newValue) {
      if  (newValue===10){
        this.transactioninfo.chosendate = this.$.inputdate.chosendate;
        this.selected=3;
      }
    },

    next:function() {
      this.selected ++;
    },

    prev:function() {
      this.selected --;
    }
  });
})();
</script>
</dom-module>
